baseURL = "https://deiaspie.github.io/"
title = "DeiAsPie - Privacy & Security Recommendations"
languageCode = "en-us"
summaryLength = 24
enableRobotsTXT = true
cleanDestinationDir = true
canonifyURLs = true

[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
    # Set to false for better security - only enable if you need raw HTML in markdown
    # If raw HTML is needed, use shortcodes instead for better control
    unsafe = false
    [markup.goldmark.parser]
      [markup.goldmark.parser.attribute]
      # Enable block-level attributes for better accessibility control
      block = true
      title = true

[taxonomies]
category = "categories"
tag = "tags"

[outputs]
home = ["HTML", "RSS"]
section = ["HTML", "RSS"]
taxonomy = ["HTML"]
term = ["HTML"]

[params]
description = "Curated privacy-focused tools and services for digital sovereignty. Your guide to escaping surveillance capitalism."
author = "DeiAsPie"
# Optional Google Fonts query (after css2?) e.g. family=Inter:wght@400;600;700&display=swap
# googleFonts = "family=Inter:wght@400;600;700&display=swap"
prefetch = ["/recommendations/", "/recommendations/courses/"]

[params.social]
github = "DeiAsPie"
twitter = "DeiAsPie"
mastodon = "@DeiAsPie@mastodon.social"

[imaging]
# Optimize image processing - Hugo best practices
anchor = 'Smart'
bgColor = '#ffffff'
hint = 'photo'
quality = 85
resampleFilter = 'lanczos'

[build]
  # Build options for better performance and security
  buildStats = { enable = true }
  # Cache digest files for better cache control
  cacheBusters = [{ source = "assets/.*\\.js$", target = "js" }, { source = "assets/.*\\.css$", target = "css" }]

[security]
  # Hugo security configuration - following best practices
  enableInlineShortcodes = false
  [security.exec]
    # Only allow specific binaries if needed
    allow = ['^(dart-)?sass(-embedded)?$', '^go$', '^npx$', '^postcss$']
    osEnv = ['^HUGO_', '^CI$']
  [security.funcs]
    getenv = ['^HUGO_', '^CI$']
  [security.http]
    # Allow specific domains for resources.GetRemote
    methods = ['GET', 'HEAD']
    urls = ['.*']

[caches]
  [caches.images]
  dir = ":cacheDir/images"
  maxAge = "720h"

[minify]
minifyOutput = true

[pagination]
pagerSize = 12

[[menu.main]]
name = "Home"
url = "/"
weight = 1

[[menu.main]]
name = "All"
url = "/recommendations/"
weight = 2

[[menu.main]]
name = "Courses"
url = "/recommendations/courses/"
weight = 3

[[menu.main]]
name = "Categories"
url = "/categories/"
weight = 4

[[menu.main]]
name = "Tags"
url = "/tags/"
weight = 5

[[menu.main]]
name = "About"
url = "/about/"
weight = 6
