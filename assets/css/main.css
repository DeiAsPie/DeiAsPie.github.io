/* Tailwind v4 CSS entrypoint */
@import "tailwindcss";

/* Use class-based dark mode: apply `dark:` utilities when `.dark` is on an ancestor */
@custom-variant dark (&:where(.dark, .dark *));

/* Allow @apply to reference Tailwind utilities (Tailwind v4) */
@reference "tailwindcss";

/* Minimal base styles */
:root {
  color-scheme: light dark;
}

.prose img {
  border-radius: 0.375rem;
}

/* Card component */
.card {
  @apply rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow hover:shadow-lg transition-shadow overflow-hidden;
}

.card-body {
  @apply p-5;
}

.card-title {
  @apply text-lg font-semibold mb-1;
}

.card-meta {
  @apply text-sm text-slate-500 dark:text-slate-400;
}

/* Card images */
img.card-img {
  /* Ensure padding doesn't increase the visual width and images are centered */
  @apply box-border block w-full h-40 max-h-40 object-contain object-center p-4;
}

/* Buttons */
.btn {
  @apply inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-white bg-slate-900 hover:bg-slate-700 dark:bg-slate-200 dark:text-slate-900 dark:hover:bg-white transition-colors;
}

/* Header nav */
.nav-link {
  @apply relative text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors;
}

/* Animated underline on hover */
.nav-link::after {
  content: "";
  @apply absolute left-0 -bottom-0.5 h-0.5 w-0 bg-slate-900 dark:bg-white transition-all duration-200;
}

.nav-link:hover::after {
  @apply w-full;
}

/* Icon button */
.icon-btn {
  @apply inline-flex items-center justify-center rounded-md p-2 text-slate-700 hover:text-slate-900 dark:text-slate-200 dark:hover:text-white border border-slate-200 dark:border-slate-700 bg-white/60 dark:bg-slate-900/60 backdrop-blur transition-colors;
}

/* Enhanced accessible focus styles */
/* Use focus-visible to avoid double focus on mouse interactions. Provide strong contrast and consistent ring. */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
.icon-btn:focus-visible,
.btn:focus-visible,
.nav-link:focus-visible {
  @apply outline-none ring-2 ring-offset-2 ring-sky-500 dark:ring-sky-400 ring-offset-white dark:ring-offset-slate-950 rounded-md;
}

/* Provide visible indication also for keyboard focus on skip link (already uses sr-only) */
a[href="#main"]:focus-visible {
  @apply ring-2 ring-offset-2 ring-fuchsia-500 dark:ring-fuchsia-400;
}